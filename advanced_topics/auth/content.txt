A complete Go microservices JWT demo (auth + service).

                ğŸ” Auth service: issues JWT
                ğŸ‘¤ User service: verifies JWT
                ğŸ›’ Cart service: verifies JWT
                ğŸ“¦ Order service: verifies JWT
                ğŸ’³ Payment service: verifies JWT
                ğŸ”” Notification service: optional


 Microservice                 Responsibility                                                                 
 âœ… Auth Service          Handles user login, registration, and issues JWTs (signed with private key).   
 âœ… User Service          Manages user profile data; verifies JWT using the public key.                  
 ğŸ›’ Cart Service          Manages items added to user's cart; uses JWT to authorize user actions.        
 ğŸ“¦ Order Service         Handles order placement, history, tracking; uses JWT to get user identity.     
 ğŸ’³ Payment Service       Processes payments and confirms transactions; uses JWT to authenticate user.   
 ğŸ“¬ Notification Service  Sends SMS/email updates (order placed, delivered, etc). Uses user ID from JWT. 
 ğŸ“ˆ Analytics Service     Gathers behavioral/user activity; may extract user info from JWT if needed.    



ğŸ”— How JWT Ties Them All Together
    - All services use JWT verification middleware 
      (public key validation).
    - Every request includes a JWT in the Authorization: 
      Bearer <token> header.
    - Services donâ€™t need to talk to Auth Service to validate tokens
      â€” just verify with public key.

                         +-------------------------+
                               Auth Service       
                           - Issues JWT token     
                         +-------------------------+
                                   
                          JWT (RS256 signed)
                                   v
+--------------+   +--------------+   +--------------+   +--------------+
 User Service     Cart Service     Order Service    Payment Srvc 
 Verifies JWT     Verifies JWT     Verifies JWT     Verifies JWT
+--------------+   +--------------+   +--------------+   +--------------+
                                   
                      [Authorization: Bearer <token>]
                                   
                               +--------+
                                Client 
                               +--------+
go-microservices-jwt/
â”œâ”€â”€ auth-service/
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ private.key
â”œâ”€â”€ user-service/
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ public.key
â”œâ”€â”€ cart-service/
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ public.key
â”œâ”€â”€ order-service/
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ public.key
â”œâ”€â”€ payment-service/
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ public.key
â”œâ”€â”€ go.mod



ğŸ” Key Setup (once)
Run this once in the root directory:
# Generate private key
openssl genrsa -out auth-service/private.key 2048

# Generate public key from private key
openssl rsa -in auth-service/private.key -pubout -out user-service/public.key
cp user-service/public.key cart-service/
cp user-service/public.key order-service/
cp user-service/public.key payment-service/



Testing :
curl -X POST http://localhost:8000/login \
  -H "Content-Type: application/json" \
  -d '{"username":"mahindra"}'

Use JWT on other services
curl -H "Authorization: Bearer <token>" http://localhost:8001/profile
curl -H "Authorization: Bearer <token>" http://localhost:8002/cart
curl -H "Authorization: Bearer <token>" http://localhost:8003/orders
curl -X POST -H "Authorization: Bearer <token>" http://localhost:8004/pay
